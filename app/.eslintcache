[{"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\index.js":"1","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\App.js":"2","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\layouts\\DefaultLayout.js":"3","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Footer\\index.js":"4","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Products\\index.js":"5","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\ProductPage\\index.js":"6","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\SearchBar\\index.js":"7","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Header\\index.js":"8","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Loading\\index.js":"9","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\store\\AppContext.js":"10"},{"size":151,"mtime":1608824147857,"results":"11","hashOfConfig":"12"},{"size":776,"mtime":1608898964864,"results":"13","hashOfConfig":"12"},{"size":2542,"mtime":1608933913378,"results":"14","hashOfConfig":"12"},{"size":228,"mtime":1608837564000,"results":"15","hashOfConfig":"12"},{"size":2140,"mtime":1608908385651,"results":"16","hashOfConfig":"12"},{"size":165,"mtime":1608647404307,"results":"17","hashOfConfig":"12"},{"size":535,"mtime":1608908425616,"results":"18","hashOfConfig":"12"},{"size":366,"mtime":1608835982966,"results":"19","hashOfConfig":"12"},{"size":246,"mtime":1608671042765,"results":"20","hashOfConfig":"21"},{"size":610,"mtime":1608763412616,"results":"22","hashOfConfig":"12"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"53ozqm",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"25"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},"1ecomz8",{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\index.js",[],["46","47"],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\App.js",[],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\layouts\\DefaultLayout.js",["48","49"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport env from \"react-dotenv\";\r\nimport socketIOClient from 'socket.io-client';\r\nimport Footer from './../components/Footer/index';\r\nimport Header from './../components/Header/index';\r\nimport SearchBar from './../components/SearchBar/index';\r\nimport { AppContext } from './../store/AppContext';\r\nconst ENDPOINT = 'http://127.0.0.1:9000';\r\n\r\nfunction DefaultLayout({ children }) {\r\n    const [reload, setReload] = useState(false);\r\n    const [appData, dispatch] = useContext(AppContext);\r\n    const { search } = appData;\r\n    let query = '?limit=4';\r\n\r\n    async function getProducts() {\r\n        let res = await fetch('/products');\r\n        let prodList = await res.json();\r\n\r\n        let prom = prodList.map(prod => {\r\n            return fetch('/products/' + prod.id + query).then(res => res.json())\r\n        });\r\n        Promise.all(prom).then(data => {\r\n            dispatch({\r\n                type: 'update',\r\n                payload: { products: data }\r\n            })\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    async function getCustomers(term) {\r\n        let res = await fetch('/customers/' + term);\r\n        let prodList = await res.json();\r\n        dispatch({\r\n            type: 'update',\r\n            payload: {\r\n                products: prodList,\r\n                search: term\r\n            }\r\n        });\r\n    }\r\n\r\n    async function searchHandler(ev) {\r\n        let term = ev.target.value.trim().toLowerCase();\r\n        if (term.length >= 3) {\r\n            await getCustomers(term);\r\n        } else if (term === '') {\r\n            dispatch({\r\n                type: 'update',\r\n                payload: {\r\n                    search: '',\r\n                }\r\n            });\r\n            await getProducts();\r\n        }\r\n    };\r\n\r\n    async function getData() {\r\n        if (search !== '') {\r\n            await getCustomers(search)\r\n        } else {\r\n            await getProducts()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const socket = socketIOClient(ENDPOINT);\r\n        socket.on('changeData', () => setReload(r => !r));\r\n\r\n        return () => socket.disconnect();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [reload]);\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <main className='min-vh-100 container'>\r\n                <SearchBar searchHandler={searchHandler} />\r\n                {children}\r\n            </main>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DefaultLayout;","G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Footer\\index.js",[],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Products\\index.js",[],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\ProductPage\\index.js",[],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\SearchBar\\index.js",[],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Header\\index.js",[],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\components\\Loading\\index.js",[],["50","51"],"G:\\workspace\\girlsincode-projects\\product-customers-app\\app\\src\\store\\AppContext.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":2,"column":8,"nodeType":"58","messageId":"59","endLine":2,"endColumn":11},{"ruleId":"60","severity":1,"message":"61","line":75,"column":8,"nodeType":"62","endLine":75,"endColumn":16,"suggestions":"63"},{"ruleId":"52","replacedBy":"64"},{"ruleId":"54","replacedBy":"65"},"no-native-reassign",["66"],"no-negated-in-lhs",["67"],"no-unused-vars","'env' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.","ArrayExpression",["68"],["66"],["67"],"no-global-assign","no-unsafe-negation",{"desc":"69","fix":"70"},"Update the dependencies array to be: [getData, reload]",{"range":"71","text":"72"},[2237,2245],"[getData, reload]"]